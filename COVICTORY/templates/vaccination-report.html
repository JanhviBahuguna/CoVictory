<!DOCTYPE html>
<html lang="en">
<head>
  <title>CoVictory-Vaccination-Report</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
<script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
</head>

<body>

<nav class="navbar navbar-dark bg-dark" style="padding-top: 2px ;padding-bottom:2px; padding-left: 10px;">
  <a class="navbar-brand"><h3>CoVictory</h3></a>
  <a class="nav-link" href="/patient-logout"><span class="navbar-text">Logout</span></a>
</nav>

<h1 class="text-center" style="margin: 40px 25px 0px 25px;"><mark>Hello {{patient[0]}} {{patient[1]}} !!!</mark></h2>

<button type="button" class="btn btn-secondary btn-lg btn-block" onclick="saveDiv('pdf','Title')" 
  style="margin: 0rem 0rem 1rem 5rem;" >Download Report</button>

<div class="container bg-light border shadow-lg p-4 mb-4" id="pdf" 
  style="margin: 0rem 2rem 2rem 5rem; padding-top: 2rem;padding-bottom: 1rem; ">

    <table class="table table-borderless table-light text-left" style="width: 100%">
    <thead class="table-light">
      <tr>
        <th scope="col" style="width: 20%">Centre Name: {{center[1]}}</th>
        <th scope="col" style="width: 20%"></th>
        <th scope="col" style="width: 20%" class="text-right">Doctor Name: {{doctor[0]}}</th>
      </tr>
    </thead>
    <tbody>
    <tr>
      <td>Location: {{center[0]}}</td>
      <td></td>
      <td>Doctor Email: {{doctor[1]}}</td>
    </tr>
  </tbody>
  </table>

    <table class="table table-bordered table-light text-left" style="width: 100%">
    <thead class="table-light">
      <tr>
        <th scope="col" style="width: 3%">Name</th>
        <td scope="col" style="width: 75%">{{patient[0]}} {{patient[1]}}</th>
      </tr>
      <tr>
        <th scope="col" style="width: 3%">Email</th>
        <td scope="col" style="width: 75%">{{patient[2]}}</th>
      </tr>
    </thead>
  </table>

    <table class="table table-bordered table-light text-left" style="margin-top: 0px;width: 100%;">
    <thead class="table-light">
      <tr>
        <th scope="col" style="width: 3%">DOB</th>
        <td scope="col" style="width: 5%">{{patient[4]}}</th>
        <th scope="col" style="width: 3%">Gender</th>
        <td scope="col" style="width: 5%">{{patient[3]}}</th>
      </tr>
    </thead>
  </table>

    <table class="table table-bordered table-hover table-striped table-light text-center" style="width: 100%">
    <thead class="table-light">
      <tr>
        <th scope="col" style="width: 5%">Status</th>
        <th scope="col" style="width: 20%">Date1</th>
        <th scope="col" style="width: 20%">Date2</th>
        <th scope="col" style="width: 20%">Remark</th>
      </tr>
    </thead>
    <tbody>
    <tr>
      <td>{{status}}</td>
      <td>{{date1}}</td>
      <td>{{date2}}</td>
      <td>{{remark}}</td>
    </tr>
    </tbody>
  </table>
</div>

<script type="text/javascript">
  var doc = new jsPDF();

   function saveDiv(divId, title) {
   doc.fromHTML(`<html><head><title>${title}</title></head><body>` + document.getElementById(divId).innerHTML + `</body></html>`);
   doc.save('VaccinationReport.pdf');
    }
</script>

</body>
</html>